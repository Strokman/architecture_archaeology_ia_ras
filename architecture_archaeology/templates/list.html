{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container text-center mb-5">

    <h2> {{title}} </h2>
</div>

<div class="container text-center">
{% if filter.form %}

  <a class="btn btn-primary" data-bs-toggle="offcanvas" aria-current="page" href="#searchFilter" aria-controls="searchFilter">Фильтр</a>
  <a href="{{base_url}}" class="btn btn-primary">Сбросить</a>
<div class="offcanvas offcanvas-end" tabindex="-1" id="searchFilter" aria-labelledby="searchFilterLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="searchFilterLabel">Поисковый фильтр</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div>
        {% with filter.form as form and 'get' as method %}
        {% include '_filter-form.html' %}
        {% endwith %}
    </div>
  </div>
</div>
{% endif %}


<a href="{{action}}" class="btn btn-primary">Добавить новый</a>

</div>


<br>
<div class="container-fluid">
{% for obj in objects %}






<div class="card mt-3">
    <div class="card-body">
      <div class="row">
        
        <div class="left-content col-lg-auto">
          <img src="{% if obj.file_set.all %}{% for file in obj.file_set.all %}{% if file.type.id == 1 %}{% url 'file:get' file.filename %}{% endif %}{% endfor %}{% else %}{% static 'images/default.png' %}{% endif %}" alt="Pic" width="200" height="150">
      </div>
      
      <div class="right-content col-lg">

        <h5 class="card-title"><a href="{{obj.get_absolute_url}}" class="link-body-emphasis link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover">{{obj.name}}</a></h5>
        {% if obj.region %}
        <p class="card-text">{{obj.region.country}}, {{obj.region}}</p>
        {% endif %}
        {% if obj.site %}
        <p class="card-text">{{obj.site}}</p>
        {% endif %}
        {% if obj.year_min %}
        <p class="card-text">Датировка: {{obj.year_min}} - {{obj.year_max}}</p>
        {% endif %}
        {% if obj.description %}
        <p class="card-text">{{obj.description}}</p>
        {% endif %}
      </div>
    </div>
  </div>
</div>






{% endfor %}
</div>
{% endblock content %}